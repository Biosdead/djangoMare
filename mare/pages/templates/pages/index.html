{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="google-adsense-account" content="ca-pub-8048981882025505">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8048981882025505" crossorigin="anonymous"></script>
  <title>Marés em Salinópolis hoje | Tábua de marés e horários</title>
  <meta name="description" content="Tábua de maré em Salinópolis (PA): horários de maré alta e baixa atualizados para planejar seu dia na praia. Dados da Marinha do Brasil, precisos e confiáveis.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="{{ canonical_url }}">
  <link rel="icon" type="image/x-icon" href="{% static 'pages/icones/favicon.ico' %}">

  <!-- Open Graph -->
  <meta property="og:locale" content="pt_BR">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Marés de Salinas">
  <meta property="og:title" content="Marés em Salinópolis hoje | Tábua de marés e horários">
  <meta property="og:description" content="Tábua de maré em Salinópolis (PA): horários de maré alta e baixa atualizados. Dados da Marinha do Brasil.">
  <meta property="og:url" content="{{ canonical_url }}">
  <meta property="og:image" content="{{ og_image_url }}">
  <meta property="og:image:alt" content="Tábua de marés de Salinópolis">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Marés em Salinópolis hoje | Tábua de marés e horários">
  <meta name="twitter:description" content="Tábua de maré em Salinópolis (PA) atualizada. Dados da Marinha do Brasil.">
  <meta name="twitter:image" content="{{ og_image_url }}">

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Marés em Salinópolis hoje | Tábua de marés e horários",
    "url": "{{ canonical_url }}",
    "inLanguage": "pt-BR",
    "description": "Tábua de maré em Salinópolis (PA): horários de maré alta e baixa atualizados para planejar seu dia na praia. Dados da Marinha do Brasil, precisos e confiáveis.",
    "isPartOf": { "@type": "WebSite", "name": "Marés de Salinas", "url": "{{ canonical_url }}" }
  }
  </script>
  <link rel="stylesheet" href="{% static 'pages/styles.css' %}">
</head>

<body>
  <main class="page">
    <header class="header">
      <div class="title-block">
        <h1 class="app-title">Marés em Salinópolis hoje — Tábua de marés</h1>
        <p class="app-subtitle">Salinópolis, Pará</p>
      </div>
      <div class="date-block">
        <div class="date">{{ date|date:"d" }} <span class="month"> de {{ month_name }}</span> <span class="year"> de {{ date|date:"Y" }}</span></div>
        <span class="weekday">{{ weekday }}</span>
      </div>
    </header>

    <nav class="day-nav">
      <a class="btn btn-ghost" href="{{ prev_link }}" aria-label="Dia anterior" style="color: gray;">← Dia anterior</a>
      <a class="btn" style="background: var(--accent);" href="{{ today_link }}" aria-label="Hoje">Hoje</a>
      <a class="btn btn-ghost" href="{{ next_link }}" aria-label="Dia seguinte" style="color: gray;">Dia seguinte →</a>
    </nav>

    <div class="share-bar">
      <a class="btn btn-whatsapp" href="{{ whatsapp_share_url }}" target="_blank" rel="noopener noreferrer" aria-label="Compartilhar no WhatsApp">
        <svg viewBox="0 0 32 32" width="18" height="18" aria-hidden="true"><path fill="currentColor" d="M19.11 17.02c-.28-.14-1.64-.8-1.9-.89-.26-.1-.45-.14-.63.14-.19.28-.73.89-.9 1.07-.17.19-.33.21-.61.07-.28-.14-1.19-.44-2.27-1.4-.84-.75-1.41-1.68-1.58-1.96-.16-.28-.02-.43.12-.57.13-.13.28-.33.42-.5.14-.17.19-.28.28-.47.09-.19.05-.36-.02-.5-.07-.14-.63-1.51-.86-2.07-.23-.55-.46-.47-.63-.48l-.54-.01c-.19 0-.5.07-.76.36-.26.28-1 1-1 2.43 0 1.43 1.02 2.81 1.16 3 .14.19 2.01 3.07 4.86 4.3.68.29 1.21.46 1.62.59.68.22 1.29.19 1.77.12.54-.08 1.64-.67 1.87-1.31.23-.64.23-1.19.16-1.31-.07-.12-.26-.19-.54-.33zM16.02 4C9.93 4 5 8.92 5 15.01c0 1.93.5 3.75 1.39 5.33L5 27l6.84-1.79c1.54.84 3.31 1.32 5.18 1.32 6.09 0 11.02-4.93 11.02-11.02C28.04 8.92 22.11 4 16.02 4zm0 19.98c-1.73 0-3.34-.5-4.69-1.36l-.34-.21-4.06 1.06 1.09-3.96-.22-.36a9.023 9.023 0 0 1-1.41-4.85c0-4.98 4.04-9.02 9.02-9.02s9.02 4.04 9.02 9.02-4.04 9.02-9.02 9.02z"/></svg>
        Compartilhar no WhatsApp
      </a>
      <!-- <button type="button" id="btn-instagram-share" class="btn btn-instagram" aria-label="Compartilhar no Instagram">
        <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path fill="currentColor" d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm0 2h10c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3zm11 1a1 1 0 100 2 1 1 0 000-2zM12 7a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6z"/></svg>
        Compartilhar no Instagram
      </button> -->
    </div>

    {% if has_data %}
    <section class="tide-grid" aria-label="Marés de hoje">
      {% for t in tides %}
      <article class="tide-card {% if t.type == 'Maré Alta' %}high{% else %}low{% endif %}" aria-label="{{ t.type }}">
        <div class="card-top">
          <div class="icon-circle {% if t.type == 'Maré Alta' %}high{% else %}low{% endif %}" aria-hidden="true">
            {% if t.type == 'Maré Alta' %}
            <svg viewBox="0 0 24 24" width="20" height="20" role="img"><path fill="currentColor" d="M12 4l6 6h-4v8h-4V10H6z"/></svg>
            {% else %}
            <svg viewBox="0 0 24 24" width="20" height="20" role="img"><path fill="currentColor" d="M12 20l-6-6h4V6h4v8h4z"/></svg>
            {% endif %}
          </div>
          <span class="chip {% if t.type == 'Maré Alta' %}chip-high{% else %}chip-low{% endif %}">{{ t.type }}</span>
        </div>
        <div class="time" aria-label="Horário">{{ t.time|time:"H:i" }}</div>
        <div class="meta">
          <span class="label">Altura</span>
          <span class="value">{{ t.height }} m</span>
        </div>
      </article>
      {% endfor %}
    </section>
    <section class="ads" style="margin-top:16px; text-align:center;">
      <script type="text/javascript">
        atOptions = {
          'key' : '36661c78f7e5c0cf026cb8f5605ce42f',
          'format' : 'iframe',
          'height' : 250,
          'width' : 300,
          'params' : {}
        };
      </script>
      <script type="text/javascript" src="//www.highperformanceformat.com/36661c78f7e5c0cf026cb8f5605ce42f/invoke.js"></script>

      <script async="async" data-cfasync="false" src="//pl25716889.effectivegatecpm.com/ad76d6c58cd9d12359d5cf78859e8870/invoke.js"></script>
      <div id="container-ad76d6c58cd9d12359d5cf78859e8870"></div>
    </section>
    <section class="ads">
      <ins class="adsbygoogle" style="display:block"
           data-ad-client="ca-pub-8048981882025505"
           data-ad-slot="0000000000"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </section>
    {% else %}
    <section class="empty">
      <div class="empty-card">
        <p class="empty-title">Sem dados para hoje</p>
        <p class="empty-subtitle">Importe o banco para este ano e tente novamente.</p>
      </div>
    </section>
    {% endif %}

    <section class="day-picker" aria-label="Selecionar data">
      <form method="get" action="" class="day-picker-form">
        <label for="date-input" class="sr-only">Escolha a data</label>
        <input id="date-input" type="date" name="date" value="{{ date|date:'Y-m-d' }}">
        <button class="btn" type="submit" style="background: var(--accent);">Ver Marés do Dia</button>
      </form>
    </section>

    <section class="info">
      <br>
      <div class="empty-card">
        <p>
          Tábua de maré em Salinópolis — Consulte os horários de maré alta e maré baixa para planejar seu dia na praia! Nosso banco de dados é alimentado pelos dados da Marinha do Brasil para oferecer informações precisas e confiáveis.
        </p>
      </div>
    </section>

    <footer class="footer-bar">
      <div class="foot-left">
        <strong>Marés de Salinas</strong>
        <span class="sep">•</span>
        <a href="{% url 'sobre' %}">Sobre</a>
        <span class="sep">•</span>
        <a href="{% url 'privacidade' %}">Privacidade e Contato</a>
        <!-- <span class="sep">•</span>
        <a href="{% url 'calendar_year' date.year %}">Calendário {{ date.year }}</a> -->
      </div>
      <div class="foot-right">
        <a href="https://play.google.com/store/apps/details?id=co.median.android.plaerl">
          <img class="store-badge" src="{% static 'pages/imagens/disponivel-google-play-badge-1.png' %}" alt="Disponível no Google Play">
        </a>
      </div>
    </footer>
  </main>
  <script>
    (function(){
      const btn = document.getElementById('btn-instagram-share');
      if (!btn) return;
      const shareText = "{{ share_text|escapejs }}";
      const shareUrl = 'https://www.maresdesalinas.com.br';

      function openInstagramApp() {
        const appUrl = 'instagram://app';
        const webUrl = 'https://www.instagram.com/';
        const start = Date.now();
        window.location.href = appUrl;
        setTimeout(function(){
          if (Date.now() - start < 2000) {
            window.open(webUrl, '_blank');
          }
        }, 1200);
      }

      btn.addEventListener('click', async function(){
        if (navigator.share) {
          try {
            await navigator.share({ title: 'Marés de Salinópolis', text: shareText, url: shareUrl });
            return;
          } catch (e) { }
        }
        try { await navigator.clipboard.writeText(shareText + '\n' + shareUrl); } catch (e) {}
        openInstagramApp();
      });
    })();
  </script>
</body>
</html>
